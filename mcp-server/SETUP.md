# Setup Instructions for Tyaprover MCP Server

## Quick Start

1. **Install dependencies:**
   ```bash
   npm install
   ```

2. **Configure environment:**
   ```bash
   cp .env.example .env
   # Edit .env with your Tyaprover credentials
   ```

3. **Start the server:**
   ```bash
   ./start.sh
   # or
   npm start
   ```

## Configuration Files

### `.env` - Environment Variables
Copy from `.env.example` and configure:
- `TYAPROVER_API_URL`: Your Tyaprover instance URL
- `TYAPROVER_AUTH_TOKEN`: Your authentication token
- `TYAPROVER_NAMESPACE`: Namespace (usually 'captain')

### `config.json` - Server Configuration
Detailed server configuration including:
- API settings (timeout, retry logic)
- Logging configuration
- Feature toggles
- Security settings

### `package.json` - Dependencies and Scripts
- Project metadata
- Dependencies and dev dependencies
- NPM scripts for common tasks

## Development

### Available Scripts
- `npm start` - Start the server
- `npm run dev` - Start with nodemon for development
- `npm test` - Run tests
- `npm run lint` - Lint code
- `npm run lint:fix` - Fix linting issues

### Testing
```bash
npm test
```

### Linting
```bash
npm run lint
npm run lint:fix
```

## Docker Support

### Build and run with Docker:
```bash
docker build -t tyaprover-mcp-server .
docker run -e TYAPROVER_AUTH_TOKEN=your_token tyaprover-mcp-server
```

### Or use Docker Compose:
```bash
docker-compose up
```

## Troubleshooting

### Common Issues

1. **"API call failed" errors**
   - Check `TYAPROVER_API_URL` is correct
   - Verify `TYAPROVER_AUTH_TOKEN` is valid
   - Ensure Tyaprover instance is running

2. **"Module not found" errors**
   - Run `npm install`
   - Check Node.js version (requires >= 16.0.0)

3. **Permission denied on start.sh**
   - Run `chmod +x start.sh`

### Logging

Set `LOG_LEVEL` environment variable:
- `error` - Only errors
- `warn` - Warnings and errors
- `info` - General information (default)
- `debug` - Detailed debugging

Set `LOG_FORMAT` to `json` for structured logging.

## Generated by Copilot
